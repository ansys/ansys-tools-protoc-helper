[{"objectID":"API Reference","href":"apidoc.html#api-reference","title":"API Reference","text":"API Reference"},{"objectID":"API Reference","href":"apidoc.html#ansystoolsprotoc_helper","title":"API Reference > ansys.tools.protoc_helper","text":"ansys.tools.protoc_helper\n\n\n\nA utility for compiling ‘.proto’ files to Python source.\n\n\n\nclass ansys.tools.protoc_helper.BuildPyCommand(dist: Distribution, **kw)\n\nCommand to compile .proto files while building the package wheel.\n\nOverride for the build_py command which adds compilation of\n.proto files to Python source.\n\n\n\nclass ansys.tools.protoc_helper.DevelopCommand(dist: Distribution, **kw)\n\nCommand to compile .proto files during editable installs.\n\nOverride for the develop command which adds compilation of\n.proto files to Python source.\n\n\n\nansys.tools.protoc_helper.compile_proto_files(target_package: str) -> None\n\nCompile .proto files in a package to Python source.\n\nCreates Python files and .pyi type stubs from the .proto files\nin the target_package. Proto files from all installed packages\ndefining the ansys.tools.protoc_helper.proto_provider entry point\nare included as possible dependencies.\n\nParameters\n\ntarget_package\n\nPath of the package whose .proto files should be compiled."},{"objectID":"API Reference","href":"apidoc.html#ansys.tools.protoc_helper.BuildPyCommand","title":"API Reference > ansys.tools.protoc_helper > BuildPyCommand","text":"class ansys.tools.protoc_helper.BuildPyCommand(dist: Distribution, **kw)\n\nCommand to compile .proto files while building the package wheel.\n\nOverride for the build_py command which adds compilation of\n.proto files to Python source."},{"objectID":"API Reference","href":"apidoc.html#ansys.tools.protoc_helper.DevelopCommand","title":"API Reference > ansys.tools.protoc_helper > DevelopCommand","text":"class ansys.tools.protoc_helper.DevelopCommand(dist: Distribution, **kw)\n\nCommand to compile .proto files during editable installs.\n\nOverride for the develop command which adds compilation of\n.proto files to Python source."},{"objectID":"API Reference","href":"apidoc.html#ansys.tools.protoc_helper.compile_proto_files","title":"API Reference > ansys.tools.protoc_helper > compile_proto_files","text":"ansys.tools.protoc_helper.compile_proto_files(target_package: str) -> None\n\nCompile .proto files in a package to Python source.\n\nCreates Python files and .pyi type stubs from the .proto files\nin the target_package. Proto files from all installed packages\ndefining the ansys.tools.protoc_helper.proto_provider entry point\nare included as possible dependencies.\n\nParameters\n\ntarget_package\n\nPath of the package whose .proto files should be compiled."},{"objectID":"Home","href":"index.html#protobuf-compilation-helper","title":"protobuf compilation helper","text":"protobuf compilation helper\n\nA utility to compile .proto files to Python source when building the package wheel. It supports dependencies to .proto files of different packages."},{"objectID":"Home","href":"index.html#quickstart","title":"protobuf compilation helper > Quickstart","text":"Quickstart\n\nThe simplest way to get started is using the template repository."},{"objectID":"Home","href":"index.html#manual-use","title":"protobuf compilation helper > Manual use","text":"Manual use\n\nTo manually enable the use of ansys-tools-protoc-helper in your project, the following things need to be defined:\n\nA pyproject.toml file with the following contents:\n\nwhere <additional_dependencies> are the packages that you depend on for .proto files.\n\nIn the setuptools configuration (either setup.cfg or setup.py). We only show the setuptools.setup() keywords (setup.py variant) here:\n\nRun-time dependencies on the same <additional_dependencies> used above:\n\nRefer to the gRPC version strategy section for details on which grpc and protobuf versions can be used.\n\nThe package_data declares additional file names which are included in the package:\n\nNote that *.proto is only needed if other packages should be able to depend on the *.proto files defined in your package.\n\nThe py.typed file is used to communicate that the package contains type information, see PEP 561. This file needs to be manually added.\n\nThe cmdclass is used to specify that some setuptools commands should be executed by ansys-tools-protoc-helper:\n\nThe two commands which are overridden can also be specified individually. This may be useful in particular if you want to use the setup.cfg format:\n\nIf other projects should be able to depend on the .proto files contained in your project, an entry point needs to be defined declaring the presence of the *.proto files:\n\nwhere <your.package.name> is the _importable_ name of your package. In other words, import <your.package.name> should work after installing the package.\n\nBy default, the .proto files will be copied to your/package/name. If a different location should be used, append a semicolon to the entry point name, followed by the dot-separated target location:\n\nFor a complete example, see the test/test_data/testpkg-greeter-protos package."},{"objectID":"Home","href":"index.html#grpc-version-strategy","title":"protobuf compilation helper > gRPC version strategy","text":"gRPC version strategy\n\nThe ansys-tools-protoc-helper pins the versions of gRPC and protobuf that it depends on, in the dependencies = ... section of the pyproject.toml file.\n\nFor your own project, you can use any version of grpcio and protobuf that’s newer (or equal) to the version pinned here, as long as it is the same major version.\n\nFor example, if ansys-tools-protoc-helper pins\n\nyour own dependencies could be grpcio-tools~=1.20, protobuf~=3.19 (using the ~= compatible version operator).\n\nThe protoc compiler version used is determined by the grpcio-tools package, not the protobuf dependency. The grpcio-tools==1.20.0 uses protoc==3.7.0.\n\nThe versions pinned by ansys-tools-protoc-helper were originally chosen as follows:\n\nThe first version of grpcio-tools for which binary wheels are available on PyPI, for at least one of the Python versions we support.\n\nThe first version of protobuf which is compatible with mypy-protobuf, for generating type stubs."},{"objectID":"Home","href":"index.html#upgrade-plans","title":"protobuf compilation helper > Upgrade plans","text":"Upgrade plans\n\nThe current plan for upgrading grpcio-tools and protobuf is as follows:\n\n\n\n\n\n\n\n\n\n\n\n\n\nansys-tools-protoc-helper version\n\nrelease date\n\ngrpcio-tools version\n\nprotobuf version\n\nprotoc version\n\nPython version support\n\n0.2.x\n\n2022-12-09\n\n1.20.x\n\n3.19.3\n\n3.7.x\n\n3.7 - 3.10\n\n0.3.x\n\n2023-02-20\n\n1.25.x\n\n3.19.3\n\n3.8.x\n\n3.7 - 3.10\n\n0.4.x\n\n2023-02-20\n\n1.44.x\n\n3.19.3\n\n3.19.2\n\n3.7 - 3.10\n\n0.5.x\n\n2024-09-02\n\n1.49.x\n\n4.21.x\n\n3.21.5\n\n3.9 - 3.11\n\n0.6.x\n\n2026-02-09\n\n1.59.x\n\n4.24.x\n\n3.24.3\n\n3.10 - 3.12\n\nThe strategy for these upgrades is as follows:\n\nUpgrade grpcio-tools as necessary. For example, 0.5.x enables building with Python 3.11.\n\nMatch the version of protobuf to the version of protoc bundled into grpcio-tools, or at least 3.19.3.\n\nEach upgrade is a breaking upgrade for the semantic version. Since we are currently using 0.x versions, the minor version is bumped.\n\nThe protobuf Python runtime introduced a backwards-incompatible change with version 4.21 (matching protoc release 3.21). Code generated with protoc==3.19 or newer should be compatible with the 4.x runtime, which corresponds to the 0.4 release of ansys-tools-protoc-helper.\n\nIf you need to support a specific older version of protobuf and / or gRPC, we encourage pinning ansys-tools-protoc-helper to its minor version.\n\n"}]